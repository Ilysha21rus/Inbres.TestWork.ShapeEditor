<Window xmlns="https://github.com/avaloniaui"
            xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
            xmlns:vm="clr-namespace:SteamWorkshopExplorer.ViewModels"
            x:Class="SteamWorkshopExplorer.Views.MainWindow"
            xmlns:models="clr-namespace:SteamWorkshopExplorer.Models"
            xmlns:views="clr-namespace:SteamWorkshopExplorer.Views"
            x:DataType="vm:MainWindowViewModel"
            Title="Shapes Editor"
            Width="1200" Height="900">

    <DockPanel>
        <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="5">
            <Button Content="Delete" Command="{Binding ClearCommand}" Margin="2"/>
            <Button Content="Add Ellipse" Command="{Binding AddEllipseAtCommand}" Margin="2"/>
            <Button Content="Add C Bezier" Command="{Binding AddBezierCommand}" Margin="2"/>
        </StackPanel>

        <ItemsControl ItemsSource="{Binding Shapes}">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <Canvas Background="White" PointerPressed="Canvas_PointerPressed"/>
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>

            <ItemsControl.DataTemplates>
                <DataTemplate DataType="vm:EllipseViewModel">
                    <views:EllipseView Canvas.Left="{Binding X}" Canvas.Top="{Binding Y}"/>
                </DataTemplate>

                <DataTemplate DataType="vm:BezierViewModel">
                    <views:BezierView
                        Canvas.Left="0" Canvas.Top="0"/>
                </DataTemplate>

            </ItemsControl.DataTemplates>
        </ItemsControl>
    </DockPanel>
</Window>